---
import Layout from "../layouts/Layout.astro";
import PageHeader from "../components/PageHeader";
import AboutContent from "../components/AboutContent";

// Reusing an asset for the background
import heroBg from "../assets/about.avif";
import { getImage } from "astro:assets";

const optimizedHeroBg = await getImage({
    src: heroBg,
    format: "avif",
    width: 1920,
    quality: 80,
});

const teamMembers = [
    {
        name: "Thalia Vasquez",
        role: "Coord. de Grupos",
        department: "CoordinaciÃ³n",
        email: "grupos@expeditionsgroupsac.com",
        image: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=300&h=300&auto=format&fit=crop",
    },
    {
        name: "Alberto Zavaleta",
        role: "Gerente General",
        department: "Gerencia",
        email: "azavaleta@expeditionsgroupsac.com",
        image: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=300&h=300&auto=format&fit=crop",
    },
];

const team = await Promise.all(
    teamMembers.map(async (member) => {
        const optimizedMemberImage = await getImage({
            src: member.image,
            format: "avif",
            width: 300,
            height: 300,
            quality: 80,
            inferSize: true,
        });
        return { ...member, image: optimizedMemberImage.src };
    }),
);
---

<Layout title="Nosotros | Expeditions Group">
    <main class="bg-gray-50 min-h-screen">
        {/* Header - Compact */}
        <PageHeader
            title="Sobre Nosotros"
            subtitle="Expertos en crear experiencias inolvidables para grupos corporativos y educativos."
            image={optimizedHeroBg.src}
            client:load
        />

        <AboutContent client:visible image={optimizedHeroBg.src} team={team} />
    </main>
</Layout>
